import{G as d,H as p,r as f}from"./index-BwxMtfXP.js";import{S as r}from"./customerTypes-C0s5vjj7.js";const h=[{id:1,name:"Cliente 1",surname:"Sobrenome",cpf:"12345d6",status:r.ATIVO,contacts:{email:"email@gmail.com",phone:"(31) 9999-9999"},address:{zipCode:"32568452",publicPlace:"Rua teste, 56",neighborhood:"Prado",city:"Belo horizonte",state:"MG"}},{id:2,name:"Cliente 2",surname:"Sobrenome",cpf:"1234h56",status:r.ATIVO,contacts:{email:"email@gmail.com",phone:"(31) 9999-9999"},address:{zipCode:"32568452",publicPlace:"Rua teste, 56",neighborhood:"Prado",city:"Belo horizonte",state:"MG"}},{id:3,name:"Cliente 3",surname:"Sobrenome",cpf:"1235456",status:r.ATIVO,contacts:{email:"email@gmail.com",phone:"(31) 9999-9999"},address:{zipCode:"32568452",publicPlace:"Rua teste, 56",neighborhood:"Prado",city:"Belo horizonte",state:"MG"}},{id:4,name:"Cliente 4",surname:"Sobrenome",cpf:"1239456",status:r.ATIVO,contacts:{email:"email@gmail.com",phone:"(31) 9999-9999"},address:{zipCode:"32568452",publicPlace:"Rua teste, 56",neighborhood:"Prado",city:"Belo horizonte",state:"MG"}}],P=d("customers",()=>{const e=p("customers",h),c=f(["Id","Nome","CPF","Contato","Endereço","Status","Ação"]);function l(t){return new Promise((i,s)=>{const n=e.value.find(o=>o.cpf===t.cpf);if(e.value.find(o=>o.contacts.email===t.contacts.email))s(new Error("Esse E-mail já está cadastrado"));else if(n)s(new Error("Esse CPF já está cadastrado"));else{const o={id:e.value.length+2,...t,status:r.ATIVO};e.value=[...e.value,o],i(o)}})}function m(t){return new Promise((i,s)=>{const n=e.value.find(a=>a.id===t);n?i(n):s(new Error("Não existe esse cliente"))})}function u(t){return new Promise((i,s)=>{if(!e.value.find(a=>a.id===t.id))s(new Error("Não existe esse usuário"));else{const a=e.value.filter(o=>o.cpf!==t.cpf);e.value=[...a,t],i(!0)}})}return{customers:e,tabs:c,addCustomerAsync:l,getCustomerIdAsync:m,updatedCustomerAsync:u}});export{P as u};
