import{d as Y,r as v,o as r,c as i,a as l,b as o,w as n,e as y,t as u,m,F as P,g as f,s as _}from"./index-BwxMtfXP.js";import{_ as p,b as V,a as h}from"./ButtonComponent.vue_vue_type_script_setup_true_lang-Cr0yePC1.js";import{_ as b}from"./TextSectionPageComponent.vue_vue_type_script_setup_true_lang-DvKA9nun.js";const k={class:"mb-4"},$={class:"w-full"},g={class:"flex gap-4 flex-wrap justify-end"},B={key:0,class:"relative mt-1 ml-2"},F={class:"text-red-500 text-xs absolute mb-2"},C={class:"flex items-center gap-2 pt-10 mt-10"},S={class:"flex gap-6 p-2"},j=["src","alt"],q={class:"text-4xl font-bold"},N={key:0,class:"text-sm"},U={key:1,class:"mt-4"},L=Y({__name:"MoviesView",setup(M){const e=v({Title:"",Year:"",Poster:"",Plot:"",error:""}),a=v({Title:"",Year:"",Poster:"",Plot:""});function x(){let s="http://www.omdbapi.com/?apikey=fdd110c6";if(e.value.Title&&e.value.Year)s=s+`&t=${e.value.Title}&y=${e.value.Year}`;else if(e.value.Title&&!e.value.Year)s=s+`&t=${e.value.Title}`;else if(!e.value.Title&&e.value.Year)s=s+`&y=${e.value.Year}`;else{e.value.error="Preencha ou selecione no minimo um campo";return}fetch(s).then(t=>t.json()).then(t=>{a.value.Poster=t.Poster,a.value.Title=t.Title,a.value.Year=t.Year,a.value.Plot=t.Plot})}function d(){e.value.error=""}function w(){e.value.error="",e.value.Title="",e.value.Year=""}function T(){w()}return(s,t)=>(r(),i(P,null,[l("div",k,[o(b,{title:"Bem-vindo!",text:"Aqui está uma lista de filmes."})]),l("div",{class:"text-sm flex justify-end mb-4"},[l("button",{onClick:T,class:"hover:text-brand duration-200"}," Limpar filtros ")]),l("form",$,[l("div",g,[o(p,{"for-name":"name",class:"flex-1 min-w-max w-full"},{icon:n(()=>[o(f(_))]),input:n(()=>[o(h,{placeholder:"Buscar usuário",type:"text",id:"name",required:"",modelValue:e.value.Title,"onUpdate:modelValue":[t[0]||(t[0]=c=>e.value.Title=c),d]},null,8,["modelValue"])]),_:1}),o(p,{"for-name":"year",class:"min-w-max w-full md:w-auto"},{icon:n(()=>[o(f(_))]),input:n(()=>[o(h,{placeholder:"Buscar por ano",id:"year",required:"",modelValue:e.value.Year,"onUpdate:modelValue":[t[1]||(t[1]=c=>e.value.Year=c),d]},null,8,["modelValue"])]),_:1}),o(V,{class:"min-w-max",title:"Buscar",onClick:y(x,["prevent"])})]),e.value.error?(r(),i("div",B,[l("span",F,u(e.value.error),1)])):m("",!0)]),l("div",C,[l("div",S,[l("img",{src:a.value.Poster,alt:a.value.Title,class:"w-32"},null,8,j),l("div",null,[l("p",q,u(a.value.Title),1),a.value.Year?(r(),i("p",N,u(a.value.Year),1)):m("",!0),a.value.Plot?(r(),i("p",U,u(a.value.Plot),1)):m("",!0)])])])],64))}});export{L as default};
